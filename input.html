<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pandemic Simulator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            /* Dark gradient */
            margin: 0;
            padding: 20px;
            overflow: hidden;
            /* Hide overflow for floating particles */
            position: relative;
            color: #e0e0e0;
            /* Light text for dark background */
        }

        .container {
            max-width: 600px;
            margin: auto;
            background: rgba(30, 30, 30, 0.9);
            /* Dark container with slight transparency */
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
            position: relative;
            z-index: 1;
        }

        h1 {
            text-align: center;
            color: #66fcf1;
            /* Cool teal for header */
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #c5c6c7;
            /* Slightly lighter for labels */
        }

        .slider-container {
            display: flex;
            align-items: center;
        }

        .slider {
            flex: 1;
            margin-right: 10px;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: #45a29e;
            /* Teal slider track */
            border-radius: 5px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #66fcf1;
            /* Bright thumb */
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #1f2833;
        }

        .slider-value {
            width: 50px;
            text-align: right;
            color: #66fcf1;
            /* Matching text color for values */
        }

        .btn-primary {
            width: 100%;
            padding: 12px;
            background-color: #45a29e;
            /* Teal button */
            color: #1f2833;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #66fcf1;
            color: #0b0c10;
        }

        a {
            text-decoration: none;
            color: #66fcf1;
            margin-bottom: 20px;
            display: inline-block;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Floating particles */
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.15);
            /* Dimmer particles for dark mode */
            border-radius: 50%;
            opacity: 0.6;
            animation: float 8s infinite ease-in-out;
        }

        @keyframes float {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.6;
            }

            50% {
                transform: translateY(-50px) scale(1.2);
                opacity: 0.3;
            }

            100% {
                transform: translateY(0) scale(1);
                opacity: 0.6;
            }
        }
    </style>
</head>

<body>

    <h1>Pandemic Simulator</h1>

    <!-- User Input Form -->
    <div id="inputForm" class="container">
        <div class="form-group">
            <label>Population:</label>
            <div class="slider-container">
                <input type="range" id="inputPopulation" class="slider" min="100" max="100000" value="5000">
                <span id="populationValue" class="slider-value">50000</span>
            </div>
        </div>
        <div class="form-group">
            <label>Immunity %:</label>
            <div class="slider-container">
                <input type="range" id="inputImmunity" class="slider" min="0" max="100" value="50">
                <span id="immunityValue" class="slider-value">50%</span>
            </div>
        </div>
        <div class="form-group">
            <label>One Shot %:</label>
            <div class="slider-container">
                <input type="range" id="inputOneShot" class="slider" min="0" max="100" value="25">
                <span id="oneShotValue" class="slider-value">25%</span>
            </div>
        </div>
        <div class="form-group">
            <label>Two Shot %:</label>
            <div class="slider-container">
                <input type="range" id="inputTwoShot" class="slider" min="0" max="100" value="15">
                <span id="twoShotValue" class="slider-value">15%</span>
            </div>
        </div>
        <div class="form-group">
            <label>Recovery %:</label>
            <div class="slider-container">
                <input type="range" id="inputRecovery" class="slider" min="0" max="100" value="70">
                <span id="recoveryValue" class="slider-value">70%</span>
            </div>
        </div>
        <div class="form-group">
            <label>Infected %:</label>
            <div class="slider-container">
                <input type="range" id="inputInfected" class="slider" min="0" max="100" value="5">
                <span id="infectedValue" class="slider-value">5%</span>
            </div>
        </div>
        <button class="btn-primary" onclick="initializeSimulation()">Start Simulation</button>
    </div>

    <script>
        // Update slider values dynamically
        const sliders = [
            { id: 'inputPopulation', display: 'populationValue' },
            { id: 'inputImmunity', display: 'immunityValue', suffix: '%' },
            { id: 'inputOneShot', display: 'oneShotValue', suffix: '%' },
            { id: 'inputTwoShot', display: 'twoShotValue', suffix: '%' },
            { id: 'inputRecovery', display: 'recoveryValue', suffix: '%' },
            { id: 'inputInfected', display: 'infectedValue', suffix: '%' },
        ];

        sliders.forEach(slider => {
            const input = document.getElementById(slider.id);
            const display = document.getElementById(slider.display);

            input.addEventListener('input', () => {
                display.textContent = input.value + (slider.suffix || '');
            });
        });

        function initializeSimulation() {
            let value = {
                population: document.getElementById('inputPopulation').value,
                immunityPercent: document.getElementById('inputImmunity').value,
                oneShotPercent: document.getElementById('inputOneShot').value,
                twoShotPercent: document.getElementById('inputTwoShot').value,
                recoveryPercent: document.getElementById('inputRecovery').value,
                infectedPercent: document.getElementById('inputInfected').value
            };

            localStorage.setItem("attributes", JSON.stringify(value));
            window.location.href = "simulator.html"; // Ensure sim.html exists
        }

        // Generate floating particles for the background
        function createParticles() {
            const numParticles = 30; // Adjust the number of particles
            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');

                // Random size, position, and animation duration
                const size = Math.random() * 8 + 4; // Particle size between 4px and 12px
                particle.style.width = `${size} px`;
                particle.style.height = `${size} px`;
                particle.style.top = `${Math.random() * 100} vh`;
                particle.style.left = `${Math.random() * 100} vw`;
                particle.style.animationDuration = ` ${Math.random() * 5 + 5} s`; // Between 5s and 10s
                particle.style.animationDelay = `${Math.random() * 5} s`;

                document.body.appendChild(particle);
            }
        }

        // Call the function to create particles
        createParticles();
    </script>
</body>

</html>